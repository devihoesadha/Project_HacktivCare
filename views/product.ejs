<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous"> -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <title>Home Product</title>
</head>

<body>

  <center>
    <h1>Product List</h1>
    <% if (user?.role==="Admin" ) { %>
      <a href="/user"><button>Addmin List</button></a>
      <% } else if(user?.role==="Customer" ) { %>
        <a href="/cart">
          <button style="position: left" class="btn btn-light position-relative" type="button"
            data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight"><svg
              xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-cart4"
              viewBox="0 0 16 16">
              <path
                d="M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5zM3.14 5l.5 2H5V5H3.14zM6 5v2h2V5H6zm3 0v2h2V5H9zm3 0v2h1.36l.5-2H12zm1.11 3H12v2h.61l.5-2zM11 8H9v2h2V8zM8 8H6v2h2V8zM5 8H3.89l.5 2H5V8zm0 5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0z">
              </path>
            </svg>
            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
              my cart
              <span class="visually-hidden">my cart</span>
            </span>
          </button>
        </a>
        <% }%>
          <form action="/products" method="get">
            <br><input type="text" name="search">
            <a href="/products"><button>search</button></a>
          </form>
          <div class="container-fluid gap-5 d-flex flex-wrap mt-4">
            <% dataProduct.forEach(el=> { %>
              <div class="mb-3">
                <div class="card" style="width: 15rem;">
                  <img class="card-img-top" src="<%= el.imageURL %>" alt="error picture" style=" max-height: 400px;">
                  <div class="card-body">
                    <h4 class="card-title">
                      <%= el.name %>
                    </h4>
                    <p class="card-text">
                      <%=formatRupiah(el.price)%>
                    </p>
                    <a href="/products/detail/<%= el.id %>"><button> Show Details</button></a>
                    <a href="#"><button> Add to Cart </button></a>
                  </div>
                </div>
              </div>
              <% }) %>
          </div>


  </center>
</body>

</html>